<!DOCTYPE html>
<html>

<head>
    <title></title>
    <script type="text/javascript" src="d3.min.js"></script>
    <script type="text/javascript" src-"https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <style type="text/css">
    body {
        background-color: rgb(255, 250, 238);
    }
    </style>
</head>

<body>
    <script type="text/javascript">
    var launch1 = [{
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 101760,
        "CALCGPH": 6,
        "TEMP": 2920,
        "RH": 573,
        "UWND": 5,
        "VWND": -1
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 100990,
        "CALCGPH": 71,
        "TEMP": 2895,
        "RH": 611,
        "UWND": 21,
        "VWND": -4
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 100000,
        "CALCGPH": 154,
        "TEMP": 2887,
        "RH": 656,
        "UWND": 44,
        "VWND": -9
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 98440,
        "CALCGPH": 288,
        "TEMP": 2880,
        "RH": 616,
        "UWND": 61,
        "VWND": -13
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 98140,
        "CALCGPH": 314,
        "TEMP": 2883,
        "RH": 556,
        "UWND": 61,
        "VWND": -13
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 96950,
        "CALCGPH": 418,
        "TEMP": 2923,
        "RH": 227,
        "UWND": 61,
        "VWND": -13
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 96660,
        "CALCGPH": 444,
        "TEMP": 2925,
        "RH": 219,
        "UWND": 61,
        "VWND": -13
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 92500,
        "CALCGPH": 819,
        "TEMP": 2917,
        "RH": 197,
        "UWND": 50,
        "VWND": -2
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 91440,
        "CALCGPH": 918,
        "TEMP": 2910,
        "RH": 196,
        "UWND": 50,
        "VWND": 1
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 89570,
        "CALCGPH": 1095,
        "TEMP": 2927,
        "RH": 189,
        "UWND": 43,
        "VWND": 12
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 86400,
        "CALCGPH": 1403,
        "TEMP": 2908,
        "RH": 202,
        "UWND": 34,
        "VWND": 37
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 85000,
        "CALCGPH": 1543,
        "TEMP": 2908,
        "RH": 186,
        "UWND": 37,
        "VWND": 43
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 76910,
        "CALCGPH": 2389,
        "TEMP": 2878,
        "RH": 185,
        "UWND": 72,
        "VWND": 80
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 70000,
        "CALCGPH": 3176,
        "TEMP": 2827,
        "RH": 193,
        "UWND": 75,
        "VWND": 111
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 68090,
        "CALCGPH": 3406,
        "TEMP": 2807,
        "RH": 204,
        "UWND": 76,
        "VWND": 122
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 67060,
        "CALCGPH": 3532,
        "TEMP": 2797,
        "RH": 306,
        "UWND": 75,
        "VWND": 135
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 63820,
        "CALCGPH": 3935,
        "TEMP": 2763,
        "RH": 308,
        "UWND": 69,
        "VWND": 155
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 62880,
        "CALCGPH": 4055,
        "TEMP": 2758,
        "RH": 194,
        "UWND": 71,
        "VWND": 160
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 60560,
        "CALCGPH": 4358,
        "TEMP": 2750,
        "RH": 182,
        "UWND": 90,
        "VWND": 150
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 59000,
        "CALCGPH": 4568,
        "TEMP": 2733,
        "RH": 209,
        "UWND": 120,
        "VWND": 148
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 57460,
        "CALCGPH": 4779,
        "TEMP": 2714,
        "RH": 255,
        "UWND": 144,
        "VWND": 154
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 55390,
        "CALCGPH": 5070,
        "TEMP": 2701,
        "RH": 231,
        "UWND": 160,
        "VWND": 166
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 55020,
        "CALCGPH": 5123,
        "TEMP": 2697,
        "RH": 295,
        "UWND": 165,
        "VWND": 170
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 53370,
        "CALCGPH": 5362,
        "TEMP": 2675,
        "RH": 306,
        "UWND": 170,
        "VWND": 165
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 52790,
        "CALCGPH": 5448,
        "TEMP": 2672,
        "RH": 184,
        "UWND": 173,
        "VWND": 162
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 51830,
        "CALCGPH": 5591,
        "TEMP": 2670,
        "RH": 183,
        "UWND": 171,
        "VWND": 148
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 50000,
        "CALCGPH": 5872,
        "TEMP": 2653,
        "RH": 196,
        "UWND": 187,
        "VWND": 146
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 47420,
        "CALCGPH": 6282,
        "TEMP": 2636,
        "RH": 188,
        "UWND": 235,
        "VWND": 158
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 44930,
        "CALCGPH": 6696,
        "TEMP": 2609,
        "RH": 233,
        "UWND": 275,
        "VWND": 172
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 44040,
        "CALCGPH": 6848,
        "TEMP": 2596,
        "RH": 276,
        "UWND": 283,
        "VWND": 177
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 43720,
        "CALCGPH": 6903,
        "TEMP": 2592,
        "RH": 379,
        "UWND": 280,
        "VWND": 182
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 42430,
        "CALCGPH": 7130,
        "TEMP": 2572,
        "RH": 423,
        "UWND": 282,
        "VWND": 190
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 41060,
        "CALCGPH": 7377,
        "TEMP": 2566,
        "RH": 247,
        "UWND": 293,
        "VWND": 183
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 40000,
        "CALCGPH": 7573,
        "TEMP": 2554,
        "RH": 300,
        "UWND": 315,
        "VWND": 175
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 35280,
        "CALCGPH": 8495,
        "TEMP": 2467,
        "RH": 305,
        "UWND": 355,
        "VWND": 197
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 33860,
        "CALCGPH": 8791,
        "TEMP": 2450,
        "RH": 290,
        "UWND": 365,
        "VWND": 211
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 32750,
        "CALCGPH": 9030,
        "TEMP": 2434,
        "RH": 369,
        "UWND": 373,
        "VWND": 207
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 32380,
        "CALCGPH": 9111,
        "TEMP": 2429,
        "RH": 604,
        "UWND": 373,
        "VWND": 198
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 32150,
        "CALCGPH": 9162,
        "TEMP": 2424,
        "RH": 653,
        "UWND": 373,
        "VWND": 198
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 30000,
        "CALCGPH": 9648,
        "TEMP": 2390,
        "RH": 467,
        "UWND": 367,
        "VWND": 187
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 29000,
        "CALCGPH": 9886,
        "TEMP": 2382,
        "RH": 379,
        "UWND": 380,
        "VWND": 194
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 25000,
        "CALCGPH": 10901,
        "TEMP": 2295,
        "RH": 364,
        "UWND": 390,
        "VWND": 174
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 24000,
        "CALCGPH": 11174,
        "TEMP": 2270,
        "RH": 373,
        "UWND": 413,
        "VWND": 158
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 23480,
        "CALCGPH": 11319,
        "TEMP": 2262,
        "RH": 370,
        "UWND": 423,
        "VWND": 146
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 22670,
        "CALCGPH": 11551,
        "TEMP": 2265,
        "RH": 358,
        "UWND": 451,
        "VWND": 121
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 21430,
        "CALCGPH": 11923,
        "TEMP": 2245,
        "RH": 355,
        "UWND": 489,
        "VWND": 122
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 20400,
        "CALCGPH": 12245,
        "TEMP": 2220,
        "RH": 354,
        "UWND": 470,
        "VWND": 153
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 20000,
        "CALCGPH": 12373,
        "TEMP": 2220,
        "RH": 354,
        "UWND": 452,
        "VWND": 173
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 18580,
        "CALCGPH": 12847,
        "TEMP": 2183,
        "RH": 354,
        "UWND": 385,
        "VWND": 196
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 17720,
        "CALCGPH": 13149,
        "TEMP": 2170,
        "RH": 358,
        "UWND": 383,
        "VWND": 221
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 16070,
        "CALCGPH": 13762,
        "TEMP": 2121,
        "RH": 358,
        "UWND": 353,
        "VWND": 212
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 15000,
        "CALCGPH": 14188,
        "TEMP": 2096,
        "RH": 364,
        "UWND": 319,
        "VWND": 199
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 14290,
        "CALCGPH": 14484,
        "TEMP": 2075,
        "RH": 366,
        "UWND": 290,
        "VWND": 196
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 14130,
        "CALCGPH": 14552,
        "TEMP": 2077,
        "RH": 367,
        "UWND": 282,
        "VWND": 190
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 13800,
        "CALCGPH": 14696,
        "TEMP": 2100,
        "RH": 365,
        "UWND": 265,
        "VWND": 186
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 12760,
        "CALCGPH": 15178,
        "TEMP": 2095,
        "RH": 363,
        "UWND": 216,
        "VWND": 175
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 12150,
        "CALCGPH": 15476,
        "TEMP": 2080,
        "RH": 362,
        "UWND": 191,
        "VWND": 172
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 11030,
        "CALCGPH": 16058,
        "TEMP": 2038,
        "RH": 373,
        "UWND": 158,
        "VWND": 147
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 10760,
        "CALCGPH": 16207,
        "TEMP": 2047,
        "RH": 371,
        "UWND": 146,
        "VWND": 146
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 10000,
        "CALCGPH": 16646,
        "TEMP": 2049,
        "RH": 366,
        "UWND": 107,
        "VWND": 132
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 9920,
        "CALCGPH": 16694,
        "TEMP": 2050,
        "RH": 366,
        "UWND": 102,
        "VWND": 136
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 9730,
        "CALCGPH": 16812,
        "TEMP": 2079,
        "RH": 367,
        "UWND": 84,
        "VWND": 135
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 9450,
        "CALCGPH": 16990,
        "TEMP": 2106,
        "RH": 362,
        "UWND": 56,
        "VWND": 133
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 9160,
        "CALCGPH": 17182,
        "TEMP": 2098,
        "RH": 359,
        "UWND": 35,
        "VWND": 129
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 8830,
        "CALCGPH": 17406,
        "TEMP": 2079,
        "RH": 362,
        "UWND": 25,
        "VWND": 110
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 8310,
        "CALCGPH": 17777,
        "TEMP": 2098,
        "RH": 359,
        "UWND": 17,
        "VWND": 97
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 8000,
        "CALCGPH": 18010,
        "TEMP": 2101,
        "RH": 361,
        "UWND": 19,
        "VWND": 75
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 7780,
        "CALCGPH": 18182,
        "TEMP": 2095,
        "RH": 363,
        "UWND": 14,
        "VWND": 66
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 7380,
        "CALCGPH": 18507,
        "TEMP": 2110,
        "RH": 364,
        "UWND": -2,
        "VWND": 67
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 7000,
        "CALCGPH": 18833,
        "TEMP": 2108,
        "RH": 363,
        "UWND": -16,
        "VWND": 47
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 6240,
        "CALCGPH": 19544,
        "TEMP": 2120,
        "RH": 358,
        "UWND": -27,
        "VWND": 67
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 5770,
        "CALCGPH": 20029,
        "TEMP": 2111,
        "RH": 364,
        "UWND": -28,
        "VWND": 55
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 5000,
        "CALCGPH": 20921,
        "TEMP": 2146,
        "RH": 353,
        "UWND": -59,
        "VWND": 20
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 4840,
        "CALCGPH": 21126,
        "TEMP": 2163,
        "RH": 355,
        "UWND": -69,
        "VWND": 21
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 4230,
        "CALCGPH": 21981,
        "TEMP": 2176,
        "RH": 342,
        "UWND": -67,
        "VWND": 26
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 4030,
        "CALCGPH": 22289,
        "TEMP": 2167,
        "RH": 338,
        "UWND": -69,
        "VWND": 20
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 3000,
        "CALCGPH": 24178,
        "TEMP": 2210,
        "RH": 296,
        "UWND": -118,
        "VWND": -6
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 2000,
        "CALCGPH": 26840,
        "TEMP": 2278,
        "RH": 212,
        "UWND": -134,
        "VWND": 36
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 1720,
        "CALCGPH": 27847,
        "TEMP": 2280,
        "RH": 200,
        "UWND": -112,
        "VWND": 50
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 1640,
        "CALCGPH": 28168,
        "TEMP": 2297,
        "RH": 198,
        "UWND": -120,
        "VWND": 46
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 1530,
        "CALCGPH": 28634,
        "TEMP": 2290,
        "RH": 196,
        "UWND": -116,
        "VWND": 42
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 1410,
        "CALCGPH": 29185,
        "TEMP": 2322,
        "RH": 185,
        "UWND": -112,
        "VWND": 38
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 1100,
        "CALCGPH": 30874,
        "TEMP": 2330,
        "RH": 176,
        "UWND": -91,
        "VWND": 18
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 1000,
        "CALCGPH": 31532,
        "TEMP": 2367,
        "RH": 171,
        "UWND": -132,
        "VWND": 26
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 900,
        "CALCGPH": 32266,
        "TEMP": 2391,
        "RH": 168,
        "UWND": -172,
        "VWND": 30
    }, {
        "Time": "Wed Jun 22 23:00:00 PDT 1994",
        "PRESS": 860,
        "CALCGPH": 32587,
        "TEMP": 2401,
        "RH": 167,
        "UWND": -172,
        "VWND": 30,
    }]

    var w = 300;
    var h = 600;
    var barPadding = 1;

//Create Master Container


window.addEventListener('resize', updateWindow);

var vv = window;
visWidth = vv.innerWidth;
visHeight = vv.innerWidth*.5;


function updateWindow(){
    var vv = window;
    visWidth = vv.innerWidth;
    visHeight = vv.innerWidth*.5;
};

window.onresize = updateWindow;

var vis= d3.select("body")
	.append("svg")
	.attr("width", visWidth)
	.attr("height", visHeight)
	.attr("y", 0);

//Add Vertical Scale Text

for (i=1; i<=22; i++) {
    vis.append("text")
        .text( + (i*2) + " Miles")
        .attr("x", (visWidth/2)-10)
        .attr("y", visHeight-(3218*i)*(visHeight/35000)+3)
        .attr("font-family", "sans-serif")
        .attr("font-size", "10px")
        .attr("fill", "gray");

//Add Vertical Scale Lines

    vis.append("svg:line")
        .attr("x1", 5)
        .attr("y1", visHeight-(3218*i)*(visHeight/35000))
        .attr("x2", (visWidth/2)-20)
        .attr("y2", visHeight-(3218*i)*(visHeight/35000))
        .attr("stroke", "silver")
        .attr("stroke-width", 1)
        .attr("stroke-dasharray", ("3,3"));

    vis.append("svg:line")
        .attr("x1", (visWidth/2)+20)
        .attr("y1", visHeight-(3218*i)*(visHeight/35000))
        .attr("x2", visWidth-5)
        .attr("y2", visHeight-(3218*i)*(visHeight/35000))
        .attr("stroke", "silver")
        .attr("stroke-width", 1)
        .attr("stroke-dasharray", ("3,3"));
};

//Add Horizontal Mile Lines

for (i=1; i<=10; i++) { 
    vis.append("svg:line")
        .attr("x1", 300+(i*30))
        .attr("y1",590)
        .attr("x2", 300+(i*30))
        .attr("y2", 600)
        .attr("stroke", "silver")
        .attr("stroke-width", 1);
    };

for (i=1; i<=10; i++) { 
    vis.append("svg:line")
        .attr("x1", 300-(i*30))
        .attr("y1",590 )
        .attr("x2", 300-(i*30))
        .attr("y2", 600)
        .attr("stroke", "silver")
        .attr("stroke-width", 1);
    };

//Create Container for Flight Path

var svgContainer = vis.append('svg')
    .data(launch1)
    .append("svg")
    .attr("width", visWidth/2)
    .attr("height", visHeight);


//Create Running Total

var xPos = [{x:0,y:0}];
var totalWind=0;
var totalHeight=0;

for (i=1; i<launch1.length; i++ ){
    totalWind=Math.floor(totalWind+(launch1[i-1].UWND)*((launch1[i].CALCGPH-launch1[i-1].CALCGPH)/50));

    totalHeight=launch1[i].CALCGPH;

    xPos.push({"x":totalWind,"y":totalHeight});
}
    console.log(xPos);

//Create Line Function

var lineGen1 = d3.svg.line()
    .x(function(d) {    
        return (visWidth*.25)+(d.x)*((visWidth/12)/35000)
    })
    .y(function(d) {
        return visHeight-(d.y)*((visWidth/2)/35000)
        })

// Add Clipping Mask

svgContainer.append('clipPath')
    .attr ("id","mask")
    .append("rect")
    .attr ("x", 0)
    .attr ("y", visHeight)
    .attr ("width", visWidth)
    .attr ("height", visHeight)
    .transition()
    .duration(50*launch1.length)
    .ease("linear")
    .attr ("y", visHeight-(launch1[launch1.length-1].CALCGPH*(visHeight/35000)));

//Add Line

var flightPath= svgContainer.append('svg:path')
    .attr('stroke', 'black')
    .attr('stroke-width', 3)
    .style("stroke-dasharray", ("3, 3"))
    .attr('fill', 'none')
    .attr('d', lineGen1(xPos))
    .attr("clip-path", "url(#mask)");

//Add Text of Date

    var text = svgContainer.selectAll("text")
        .data(launch1)
        .enter()
        .append("text");

    var textLabels = text
        .attr("x", 20)
        .attr("y", 20)
        .text(function(d) {
            return launch1[0].Time
        })
        .attr()
        .attr("font-family", "sans-serif")
        .attr("font-size", "15px")
        .attr("fill", "black")
        .transition()
        .duration(100*(launch1[0].Time.length))
        .ease("linear")
        .tween("text", function() {
            var newText = launch1[0].Time;
            var textLength = launch1[0].Time.length;
            return function (t) {
                this.textContent= newText.slice(0, Math.round(t*textLength));
            };
            
        })

//Create Temp Container
    var tempWidth = visWidth/2;
    var tempHeight = visHeight;

    var tempSvg = vis.append('svg')
    	.attr("x", visWidth/2)
        .append("svg")
        .attr("width", tempWidth)
        .attr("height", tempHeight);

//Create Temp Bars

    var lastRec = launch1.length - 1;

    tempSvg.selectAll("rect")
        .data(launch1)
        .enter()
        .append("rect")
        .attr("y", function(d, i) {
            return (tempHeight - (i * (tempHeight / launch1.length)) / (35000 / (launch1[lastRec].CALCGPH)));
        })
        .attr("x", tempWidth - 5)
        .attr("height", function(d, i) {
            return ((tempHeight / (35000 / (launch1[lastRec].CALCGPH))) / launch1.length) - .5;
        })
        .attr("width", 0)
        .attr("fill", function(d) {
            if (d.TEMP > 2731.5) {
                return d3.rgb(123, 156, 184);
            } else {
                return d3.rgb(63, 96, 124);
            }
        })
        .transition()
        .delay(function(d, i) {
            return i * 50
        })
        .duration(1500)
        .ease("linear")
        .attr("x", function(d, i) {
            return (tempWidth - (d.TEMP - 2000) / 4) - 5;
        })
        .attr("width", function(d) {
            return ((d.TEMP) - 2000) / 4;
        })
        .attr("fill", function(d) {
            if (d.TEMP > 2731.5) {
                return d3.rgb(123, 156, 184);
            } else {
                return d3.rgb(63, 96, 124);
            };
        });

//Create Temp Caps

    svg.selectAll("rect.cap")
        .data(launch1)
        .enter()
        .append("rect")
        .attr("class", "cap")
        .attr("y", function(d, i) {
            return (h - (i * (h / launch1.length)) / (35000 / (launch1[lastRec].CALCGPH)));
        })
        .attr("x", function(d) {
            return (w - 5);
        })
        .attr("fill", "orangered")

    .transition()
        .delay(function(d, i) {
            return i * 50
        })
        .duration(1500)
        .ease("linear")

    .attr("x", function(d) {
            return (w - (d.TEMP - 2000) / 4) - 5;
        })
        .attr("height", function(d, i) {
            return ((h / (35000 / (launch1[lastRec].CALCGPH))) / launch1.length) - .5;
        })
        .attr("width", 2)
        .attr("fill", "orangered");

//Create Humidity Container

    var svg = vis.append('svg')
    	.attr("x", 900)
        .append("svg")
        .attr("width", w)
        .attr("height", h)
        .style("background-color", function(d) {
            return d3.rgb(255, 250, 238)
        });

//Create Humidity Bars

    var lastRec = launch1.length - 1

    svg.selectAll("rect")
        .data(launch1)
        .enter()
        .append("rect")
        .attr("y", function(d, i) {
            return (h - (i * (h / launch1.length)) / (35000 / (launch1[lastRec].CALCGPH)));
        })
        .attr("x", 5)
        .attr("height", function(d, i) {
            return ((h / (35000 / (launch1[lastRec].CALCGPH))) / launch1.length) - .5;
        })
        .attr("fill", function(d) {
            if (d.RH < 1000) {
                return d3.rgb(0, 128, 128);
            } else {
                return d3.rgb(0, 178, 178);
            };
        })
        .attr("width", 0)
        .transition()
        .delay(function(d, i) {
            return i * 50
        })
        .duration(1500)
        .ease("linear")

    .attr("width", function(d) {
        return (d.RH) / 3.4;
    });

//Create Humidity Caps

    svg.selectAll("rect.cap")
        .data(launch1)
        .enter()
        .append("rect")
        .attr("class", "cap")
        .attr("y", function(d, i) {
            return (h - (i * (h / launch1.length)) / (35000 / (launch1[lastRec].CALCGPH)));
        })
        .attr("x", function(d) {
            return 5;
        })

    .attr("fill", "coral")
        .transition()
        .delay(function(d, i) {
            return i * 50
        })
        .duration(1500)
        .ease("linear")

    .attr("height", function(d, i) {
            return ((h / (35000 / (launch1[lastRec].CALCGPH))) / launch1.length) - .5;
        })
        .attr("width", 2)
        .attr("x", function(d) {
            return 5 + ((d.RH) / 3.4);
        });

    </script>
</body>

</html>
