<!DOCTYPE html>
<html>

<head>
    <title></title>
    <script type="text/javascript" src="d3.min.js"></script>
    <style type="text/css">

body {
    background-color: rgb(255,250,238);
}

    </style>
</head>

<body>
    <script type="text/javascript">
    var launch1 = [
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 102800,
      "CALCGPH" : 6,
      "TEMP" : 2822,
      "RH" : 832,
      "UWND" : 0,
      "VWND" : 0
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 101600,
      "CALCGPH" : 103,
      "TEMP" : 2844,
      "RH" : 620,
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 100000,
      "CALCGPH" : 236,
      "TEMP" : 2868,
      "RH" : 717,
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 91800,
      "CALCGPH" : 954,
      "TEMP" : 2890,
      "RH" : 590,
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 85000,
      "CALCGPH" : 1600,
      "TEMP" : 2850,
      "RH" : 765,
      "UWND" : 38,
      "VWND" : -103
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 73400,
      "CALCGPH" : 2822,
      "TEMP" : 2808,
      "RH" : 657,
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 70000,
      "CALCGPH" : 3210,
      "TEMP" : 2782,
      "RH" : 303,
      "UWND" : 63,
      "VWND" : -90
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 61000,
      "CALCGPH" : 4322,
      "TEMP" : 2707,
      "RH" : 712,
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 60100,
      "CALCGPH" : 4440,
      "TEMP" : 2701,
      "RH" : 584,
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 56200,
      "CALCGPH" : 4967,
      "TEMP" : 2669,
      "RH" : 750,
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 51000,
      "CALCGPH" : 5717,
      "TEMP" : 2611,
      "RH" : 560,
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 50000,
      "CALCGPH" : 5868,
      "TEMP" : 2601,
      "RH" : 358,
      "UWND" : 82,
      "VWND" : -57
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 43400,
      "CALCGPH" : 6940,
      "TEMP" : 2519,
      "RH" : 485,
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 41800,
      "CALCGPH" : 7217,
      "TEMP" : 2515,
      "RH" : 49,
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 40000,
      "CALCGPH" : 7539,
      "TEMP" : 2487,
      "RH" : 45,
      "UWND" : 130,
      "VWND" : -109
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 34200,
      "CALCGPH" : 8657,
      "TEMP" : 2387,
      "RH" : 287,
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 32300,
      "CALCGPH" : 9053,
      "TEMP" : 2353,
      "RH" : 661,
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 30000,
      "CALCGPH" : 9557,
      "TEMP" : 2315,
      "RH" : "N",
      "UWND" : 195,
      "VWND" : -279
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 28000,
      "CALCGPH" : 10023,
      "TEMP" : 2269,
      "RH" : "N",
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 25000,
      "CALCGPH" : 10763,
      "TEMP" : 2197,
      "RH" : "N",
      "UWND" : 165,
      "VWND" : -353
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 20000,
      "CALCGPH" : 12156,
      "TEMP" : 2081,
      "RH" : "N",
      "UWND" : 144,
      "VWND" : -395
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 17000,
      "CALCGPH" : 13141,
      "TEMP" : 2045,
      "RH" : "N",
      "UWND" : 184,
      "VWND" : -184
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 15000,
      "CALCGPH" : 13896,
      "TEMP" : 2079,
      "RH" : "N",
      "UWND" : 199,
      "VWND" : -167
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 10000,
      "CALCGPH" : 16372,
      "TEMP" : 2073,
      "RH" : "N",
      "UWND" : 104,
      "VWND" : -60
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 9400,
      "CALCGPH" : 16766,
      "TEMP" : 2085,
      "RH" : "N",
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 7400,
      "CALCGPH" : 18213,
      "TEMP" : 2051,
      "RH" : "N",
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 7000,
      "CALCGPH" : 18548,
      "TEMP" : 2069,
      "RH" : "N",
      "UWND" : 30,
      "VWND" : -63
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 5000,
      "CALCGPH" : 20598,
      "TEMP" : 2093,
      "RH" : "N",
      "UWND" : -10,
      "VWND" : -28
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 3000,
      "CALCGPH" : 23753,
      "TEMP" : 2127,
      "RH" : "N",
      "UWND" : -10,
      "VWND" : 28
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 2800,
      "CALCGPH" : 24193,
      "TEMP" : 2161,
      "RH" : "N",
      "UWND" : "N",
      "VWND" : "N"
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 2000,
      "CALCGPH" : 26320,
      "TEMP" : 2161,
      "RH" : "N",
      "UWND" : -9,
      "VWND" : 4
    },
    {
      "Time" : "Sun Jun 12 12:00:00 PDT 1988",
      "PRESS" : 1900,
      "CALCGPH" : 26645,
      "TEMP" : 2165,
      "RH" : "N",
      "UWND" : "N",
      "VWND" : "N"
    }]

    var w = 300;
    var h = 600;
    var barPadding = 1;

    var svgContainer = d3.select("body")
        .data(launch1)
        .append("svg")
        .attr("width", 600)
        .attr("height", 600);

    var flightPath = svgContainer
    	.append("line")
      .attr("x1", 300)
      .attr("y1", 600)
      .attr("x2", 300)
      .attr("y2", 600)

      .transition()
      .duration(launch1.length*50)
      .delay(50)
      .ease("linear")

    	.attr("x1", 350)
      .attr("y1", 30)
      .attr("x2", 300)
      .attr("y2", 600)
      .attr("stroke-width", 2)
      .attr("stroke", "black")
      .attr("fill", "none")
      .style("stroke-dasharray", ("4, 3"));

      var text = svgContainer.selectAll("text")
        .data(launch1)
        .enter()
        .append("text");

      var textLabels = text
        .attr ("x", 20)
        .attr ("y", 20)
        .text (function(d) {return launch1[0].Time})
        .attr ("font-family", "sans-serif")
        .attr ("font-size", "15px")
        .attr ("fill", "black");


    var svg = d3.select("body")
        .append("svg")
        .attr("width", w)
        .attr("height", h);

    var lastRec = launch1.length-1

    svg.selectAll("rect")
        .data(launch1)
        .enter()
        .append("rect")
        .attr("y", function(d, i) {
            return (h-(i * (h / launch1.length))/(35000/(launch1[lastRec].CALCGPH)));
        })
        .attr("x", w-5)
        .attr("height", function(d, i) {
            return ((h/(35000/(launch1[lastRec].CALCGPH)))/ launch1.length) - .5;
        })
        .attr("width", 0)
        .attr("fill", function(d) {
          if (d.TEMP > 2731.5) {
            return d3.rgb (123, 156, 184);
           } else {
            return d3.rgb (63, 96, 124);
           }})
        .transition()
        .delay(function(d,i) {return i*50})
        .duration(1500)
        .ease("linear")
        .attr("x", function(d,i) {
          return (w-(d.TEMP-2000)/4)-5;
        })
        .attr("width", function(d) {
            return ((d.TEMP) - 2000) / 4;
        })
        .attr("fill", function(d) {
        	if (d.TEMP > 2731.5) {
        		return d3.rgb (123, 156, 184);
        	 } else {
        	 	return d3.rgb (63, 96, 124);
        	 };
        });

        svg.selectAll("rect.cap")
        .data(launch1)
        .enter()
        .append("rect")
        .attr("class", "cap")
        .attr("y", function(d, i) {
            return (h-(i * (h / launch1.length))/(35000/(launch1[lastRec].CALCGPH)));
        })
        .attr("x", function(d) {
          return (w-5);
        })
        .attr("fill", "orangered")

        .transition()
        .delay(function(d,i) {return i*50})
        .duration(1500)
        .ease("linear")

        .attr("x", function(d) {
        	return (w-(d.TEMP-2000)/4)-5;
        })
        .attr("height", function(d, i) {
            return ((h/(35000/(launch1[lastRec].CALCGPH)))/ launch1.length) - .5;
        })
        .attr("width", 2)
        .attr("fill", "orangered"); 

    	var svg = d3.select("body")
        .append("svg")
        .attr("width", w)
        .attr("height", h)
        .style("background-color", function(d) {return d3.rgb (255,250,238) } );

      var lastRec = launch1.length-1

    	svg.selectAll("rect")
        .data(launch1)
        .enter()
        .append("rect")
        .attr("y", function(d, i) {
            return (h-(i * (h / launch1.length))/(35000/(launch1[lastRec].CALCGPH)));
        })
        .attr("x", 0)
        .attr("height", function(d, i) {
            return ((h/(35000/(launch1[lastRec].CALCGPH)))/ launch1.length) - .5;
        })
        .attr("fill", function(d) {
          if (d.RH < 1000) {
            return d3.rgb (0, 128, 128);
           } else {
            return d3.rgb (0, 178, 178);
           };
        })
        .attr("width", 0)
        .transition()
        .delay(function(d,i) {return i*50})
        .duration(1500)
        .ease("linear")

        .attr("width", function(d) {
            return (d.RH)/3.4;
        })
        ;

    	svg.selectAll("rect.cap")
        .data(launch1)
        .enter()
        .append("rect")
        .attr("class", "cap")
        .attr("y", function(d, i) {
            return (h-(i * (h / launch1.length))/(35000/(launch1[lastRec].CALCGPH)));
        })
        .attr("x", function(d) {
          return 0;
        })
        
        .attr("fill", "coral")
        .transition()
        .delay(function(d,i) {return i*50})
        .duration(1500)
        .ease("linear")

        .attr("height", function(d, i) {
            return ((h/(35000/(launch1[lastRec].CALCGPH)))/ launch1.length) - .5;
        })
        .attr("width", 2)
        .attr("x", function(d) {
            return ((d.RH)/3.4);
        });

    </script>
</body>

</html>
